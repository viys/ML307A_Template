/*********************************************************
 *  @file    cm_demo_gpio.c
 *  @brief   OpenCPU GPIO示例
 *  Copyright (c) 2021 China Mobile IOT.
 *  All rights reserved.
 *  created by zyf 2021/08/30
 ********************************************************/

 /****************************************************************************
 * Included Files
 ****************************************************************************/
#include "cm_demo_keypad.h"
#include "cm_keypad.h"
#include "cm_common.h"
#include "cm_iomux.h"
#include "cm_demo_uart.h"
#include "cm_os.h"
/****************************************************************************
 * Pre-processor Definitions
 ****************************************************************************/

/****************************************************************************
 * Private Types
 ****************************************************************************/


 
/****************************************************************************
 * Private Function Prototypes
 ****************************************************************************/
 
 
/****************************************************************************
 * Private Data
 ****************************************************************************/
 
 
/****************************************************************************
 * Private Functions
 ****************************************************************************/
static void cm_keypad_callback(cm_keypad_map_t key, cm_keypad_event_e event)
{
    cm_demo_printf("key:%02x,state:%d\n",key,event);
}

/****************************************************************************
 * Public Functions
****************************************************************************/
void cm_test_keypad(unsigned char **cmd, int len)
{
    cm_keypad_register(cm_keypad_callback);
    if(0 == cm_keypad_init())
    {
        cm_demo_printf("cm_keypad_init OK\n");
    }
    else
    {
        cm_demo_printf("cm_keypad_init FAILED\n");
    }
}
